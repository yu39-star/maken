<!DOCTYPE html>
<html>
<body>
<h1>
  Make N Solver 
  <a href="log.html" style="color: inherit; text-decoration: none;">
    v1.3.1
  </a>
</h1>

<script>
const nums = prompt("Type nums and ans: ex) 1 2 3 4 10").trim().split(" ");
const first = Number(nums[0]);
const second = Number(nums[1]);
const third = Number(nums[2]);
const forth = Number(nums[3]);
const ans = Number(nums[4]);
const numbers = [first, second, third, forth];

let kotaetati = [];
let atta = false;

document.write(
  "I'm trying to make " +
  Math.trunc(ans) +
  " with " +
  Math.trunc(first) + ", " +
  Math.trunc(second) + ", " +
  Math.trunc(third) + ", " +
  Math.trunc(forth) + ".<br>"
);

document.write("Answers:<br>");

let nans = false;

for (let i = 1; i < 25; i++) {
  let iti, ni, san, yon, next;

  if (i > 18) {
    iti = numbers[3];
    next = i - 18;

    if (next > 4) {
      ni = numbers[2];
      if (next % 2 === 1) { san = numbers[0]; yon = numbers[1]; }
      else { san = numbers[1]; yon = numbers[0]; }
    } else if (next > 2) {
      ni = numbers[1];
      if (next % 2 === 1) { san = numbers[0]; yon = numbers[2]; }
      else { san = numbers[2]; yon = numbers[0]; }
    } else {
      ni = numbers[0];
      if (next % 2 === 1) { san = numbers[1]; yon = numbers[2]; }
      else { san = numbers[2]; yon = numbers[1]; }
    }

  } else if (i > 12) {
    iti = numbers[2];
    next = i - 12;

    if (next > 4) {
      ni = numbers[3];
      if (next % 2 === 1) { san = numbers[0]; yon = numbers[1]; }
      else { san = numbers[1]; yon = numbers[0]; }
    } else if (next > 2) {
      ni = numbers[1];
      if (next % 2 === 1) { san = numbers[0]; yon = numbers[3]; }
      else { san = numbers[3]; yon = numbers[0]; }
    } else {
      ni = numbers[0];
      if (next % 2 === 1) { san = numbers[1]; yon = numbers[3]; }
      else { san = numbers[3]; yon = numbers[1]; }
    }

  } else if (i > 6) {
    iti = numbers[1];
    next = i - 6;

    if (next > 4) {
      ni = numbers[3];
      if (next % 2 === 1) { san = numbers[0]; yon = numbers[2]; }
      else { san = numbers[2]; yon = numbers[0]; }
    } else if (next > 2) {
      ni = numbers[2];
      if (next % 2 === 1) { san = numbers[0]; yon = numbers[3]; }
      else { san = numbers[3]; yon = numbers[0]; }
    } else {
      ni = numbers[0];
      if (next % 2 === 1) { san = numbers[2]; yon = numbers[3]; }
      else { san = numbers[3]; yon = numbers[2]; }
    }

  } else {
    iti = numbers[0];
    next = i;

    if (next > 4) {
      ni = numbers[3];
      if (next % 2 === 1) { san = numbers[1]; yon = numbers[2]; }
      else { san = numbers[2]; yon = numbers[1]; }
    } else if (next > 2) {
      ni = numbers[2];
      if (next % 2 === 1) { san = numbers[1]; yon = numbers[3]; }
      else { san = numbers[3]; yon = numbers[1]; }
    } else {
      ni = numbers[1];
      if (next % 2 === 1) { san = numbers[2]; yon = numbers[3]; }
      else { san = numbers[3]; yon = numbers[2]; }
    }
  }

  for (let j = 1; j < 65; j++) {
    let ikko, niko, sanko;
    next = j;

    if (next > 48) { ikko = "/"; next -= 48; }
    else if (next > 32) { ikko = "*"; next -= 32; }
    else if (next > 16) { ikko = "-"; next -= 16; }
    else { ikko = "+"; }

    if (next > 12) { niko = "/"; next -= 12; }
    else if (next > 8) { niko = "*"; next -= 8; }
    else if (next > 4) { niko = "-"; next -= 4; }
    else { niko = "+"; }

    if (next === 4) sanko = "/";
    else if (next === 3) sanko = "*";
    else if (next === 2) sanko = "-";
    else sanko = "+";

    let value;
    try {
      value = eval(`(( ${iti} ${ikko} ${ni} ) ${niko} ${san}) ${sanko} ${yon}`);
    } catch {
      continue;
    }
    if (Math.abs(value - ans) < 1e-6) {
      const kotae = `( ( ${iti|0} ${ikko} ${ni|0} ) ${niko} ${san|0} ) ${sanko} ${yon|0}`;
      atta = kotaetati.includes(kotae);
      if (!atta) {
        kotaetati.push(kotae);
        document.write(kotae + "<br>");
        nans = true;
      }
      atta = false;
    }

    try {
      const left = eval(`${iti}${ikko}${ni}`);
      const right = eval(`${san}${sanko}${yon}`);
      value = eval(`${left}${niko}${right}`);
    } catch {
      continue;
    }
    if (Math.abs(value - ans) < 1e-6) {
      const kotae = `( ${iti|0} ${ikko} ${ni|0} ) ${niko} ( ${san|0} ${sanko} ${yon|0} )`;
      atta = kotaetati.includes(kotae);
      if (!atta) {
        kotaetati.push(kotae);
        document.write(kotae + "<br>");
        nans = true;
      }
      atta = false;
    }
  }
}

if (!nans) {
  document.write("Nothing<br>");
}
document.write("Thanks for using.<br>");
</script>
</body>
</html>